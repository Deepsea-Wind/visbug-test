const e='\n  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 100 100">\n   <path fill="#f37e98" d="M25,30l3.645,47.383C28.845,79.988,31.017,82,33.63,82h32.74c2.613,0,4.785-2.012,4.985-4.617L75,30"></path><path fill="#f15b6c" d="M65 38v35c0 1.65-1.35 3-3 3s-3-1.35-3-3V38c0-1.65 1.35-3 3-3S65 36.35 65 38zM53 38v35c0 1.65-1.35 3-3 3s-3-1.35-3-3V38c0-1.65 1.35-3 3-3S53 36.35 53 38zM41 38v35c0 1.65-1.35 3-3 3s-3-1.35-3-3V38c0-1.65 1.35-3 3-3S41 36.35 41 38zM77 24h-4l-1.835-3.058C70.442 19.737 69.14 19 67.735 19h-35.47c-1.405 0-2.707.737-3.43 1.942L27 24h-4c-1.657 0-3 1.343-3 3s1.343 3 3 3h54c1.657 0 3-1.343 3-3S78.657 24 77 24z"></path><path fill="#1f212b" d="M66.37 83H33.63c-3.116 0-5.744-2.434-5.982-5.54l-3.645-47.383 1.994-.154 3.645 47.384C29.801 79.378 31.553 81 33.63 81H66.37c2.077 0 3.829-1.622 3.988-3.692l3.645-47.385 1.994.154-3.645 47.384C72.113 80.566 69.485 83 66.37 83zM56 20c-.552 0-1-.447-1-1v-3c0-.552-.449-1-1-1h-8c-.551 0-1 .448-1 1v3c0 .553-.448 1-1 1s-1-.447-1-1v-3c0-1.654 1.346-3 3-3h8c1.654 0 3 1.346 3 3v3C57 19.553 56.552 20 56 20z"></path><path fill="#1f212b" d="M77,31H23c-2.206,0-4-1.794-4-4s1.794-4,4-4h3.434l1.543-2.572C28.875,18.931,30.518,18,32.265,18h35.471c1.747,0,3.389,0.931,4.287,2.428L73.566,23H77c2.206,0,4,1.794,4,4S79.206,31,77,31z M23,25c-1.103,0-2,0.897-2,2s0.897,2,2,2h54c1.103,0,2-0.897,2-2s-0.897-2-2-2h-4c-0.351,0-0.677-0.185-0.857-0.485l-1.835-3.058C69.769,20.559,68.783,20,67.735,20H32.265c-1.048,0-2.033,0.559-2.572,1.457l-1.835,3.058C27.677,24.815,27.351,25,27,25H23z"></path><path fill="#1f212b" d="M61.5 25h-36c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h36c.276 0 .5.224.5.5S61.776 25 61.5 25zM73.5 25h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h5c.276 0 .5.224.5.5S73.776 25 73.5 25zM66.5 25h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5S66.776 25 66.5 25zM50 76c-1.654 0-3-1.346-3-3V38c0-1.654 1.346-3 3-3s3 1.346 3 3v25.5c0 .276-.224.5-.5.5S52 63.776 52 63.5V38c0-1.103-.897-2-2-2s-2 .897-2 2v35c0 1.103.897 2 2 2s2-.897 2-2v-3.5c0-.276.224-.5.5-.5s.5.224.5.5V73C53 74.654 51.654 76 50 76zM62 76c-1.654 0-3-1.346-3-3V47.5c0-.276.224-.5.5-.5s.5.224.5.5V73c0 1.103.897 2 2 2s2-.897 2-2V38c0-1.103-.897-2-2-2s-2 .897-2 2v1.5c0 .276-.224.5-.5.5S59 39.776 59 39.5V38c0-1.654 1.346-3 3-3s3 1.346 3 3v35C65 74.654 63.654 76 62 76z"></path><path fill="#1f212b" d="M59.5 45c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5s.5.224.5.5v2C60 44.776 59.776 45 59.5 45zM38 76c-1.654 0-3-1.346-3-3V38c0-1.654 1.346-3 3-3s3 1.346 3 3v35C41 74.654 39.654 76 38 76zM38 36c-1.103 0-2 .897-2 2v35c0 1.103.897 2 2 2s2-.897 2-2V38C40 36.897 39.103 36 38 36z"></path>\n  </svg>\n',t={g:{tool:"guides",icon:'\n  <svg viewBox="0 0 24 24">\n    <path d="M21,6H3C1.9,6,1,6.9,1,8v8c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V8C23,6.9,22.1,6,21,6z M21,16H3V8h2v4h2V8h2v4h2V8h2v4h2V8\n    h2v4h2V8h2V16z"/>\n  </svg>\n',label:"标尺",description:"测量距离(g)"},i:{tool:"inspector",icon:'\n  <svg viewBox="0 0 24 24">\n    <g>\n      <rect x="11" y="7" width="2" height="2"/>\n      <rect x="11" y="11" width="2" height="6"/>\n      <path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8\n        c0-4.41,3.59-8,8-8s8,3.59,8,8C20,16.41,16.41,20,12,20z"/>\n    </g>\n  </svg>\n',label:"信息面板",description:"样式信息面板(i)"},p:{tool:"padding",icon:'\n  <svg viewBox="0 0 24 24">\n    <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"/>\n  </svg>\n',label:"内边距",description:"padding(p)"},c:{tool:"compare",icon:'\n  <svg viewBox="0 0 24 24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n  </svg>\n',label:"ui比照",description:"像素对比(s)"},b:{tool:"switch",icon:'\n   <svg t="1712109889318" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1600" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M640 146.56v135.936c36.224 15.808 69.504 38.4 98.304 67.2C798.72 410.112 832 490.496 832 576s-33.28 165.824-93.696 226.304C677.888 862.72 597.504 896 512 896s-165.824-33.28-226.304-93.696C225.28 741.888 192 661.504 192 576s33.28-165.824 93.696-226.304c28.8-28.8 62.08-51.392 98.304-67.2V146.56a448 448 0 1 0 256 0zM448 0h128v512H448z" p-id="1601"></path> </svg>\n',label:"测量开关"}};!function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!window.ShadyCSS.nativeShadow,t=[],n=[],o=[],i=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakMap,l=new WeakMap,h=new WeakMap,d={loaded:!1},c={body:null,CSSStyleSheet:null},p=CSSStyleSheet,m=/@import/,u=function(){function e(){var e=document.createElement("style");d.loaded?c.body.appendChild(e):(document.head.appendChild(e),e.disabled=!0,t.push(e)),s.set(this,{adopters:new Map,actions:[],basicStyleElement:e})}var n,o,i,a=e.prototype;return a.replace=function(e){var t=f(e);try{if(!s.has(this))throw new TypeError("Illegal invocation");return s.get(this).basicStyleElement.innerHTML=t,w(this),Promise.resolve(this)}catch(e){return Promise.reject(e)}},a.replaceSync=function(e){var t=f(e);if(!s.has(this))throw new TypeError("Illegal invocation");return s.get(this).basicStyleElement.innerHTML=t,w(this),this},n=e,(o=[{key:"cssRules",get:function(){if(!s.has(this))throw new TypeError("Illegal invocation");return s.get(this).basicStyleElement.sheet.cssRules}}])&&g(n.prototype,o),i&&g(n,i),e}();["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"].forEach((function(e){u.prototype[e]=function(){if(!s.has(this))throw new TypeError("Illegal invocation");var t=arguments,n=s.get(this),o=n.adopters,i=n.actions,a=n.basicStyleElement,r=a.sheet[e].apply(a.sheet,t);return o.forEach((function(n){n.sheet&&n.sheet[e].apply(n.sheet,t)})),i.push([e,t]),r}})),Object.defineProperty(u,Symbol.hasInstance,{configurable:!0,value:x}),y(p.prototype),window.CSSStyleSheet=u,function(){var t={configurable:!0,get:function(){return i.get(this)||[]},set:function(e){var t=i.get(this)||[];!function(e,t){var n=t===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(x))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");var o=e.filter((function(t,n){return e.indexOf(t)===n}));i.set(t,o)}(e,this);var n=this===document?b()?this.head:this.body:this;("isConnected"in n?n.isConnected:document.body.contains(n))?window.requestAnimationFrame((function(){k(n),function(e,t){for(var n=v(e),o=0,i=t.length;o<i;o++)if(!(n.indexOf(t[o])>-1)){var a=s.get(t[o]).adopters,r=l.get(e),h=a.get(e);h||(h=a.get(document.head)),r.disconnect(),h.parentNode.removeChild(h),r.observe()}}(n,t)})):o.push(n)}};if(Object.defineProperty(Document.prototype,"adoptedStyleSheets",t),"undefined"!=typeof ShadowRoot){var n=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){var t=e?this:n.apply(this,arguments);return r.set(this,t),S(t),t},Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",t)}}(),b()?document.addEventListener("DOMContentLoaded",_):_()}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(){return"loading"===document.readyState}function v(e){return i.get(e.parentNode===document.documentElement?document:e)}function f(e){void 0===e&&(e="");var t=e.match(m)||[],n=e;return t.length&&(console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.forEach((function(e){n=n.replace(e,"")}))),n}function y(e){e.replace=function(){return Promise.reject(new DOMException("Can't call replace on non-constructed CSSStyleSheets."))},e.replaceSync=function(){throw new DOMException("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")}}function w(e){var t=s.get(e),n=t.adopters,o=t.basicStyleElement;n.forEach((function(e){e.innerHTML=o.innerHTML}))}function x(e){return e&&e.constructor===u||e instanceof p||e instanceof c.CSSStyleSheet}function k(e){for(var t=document.createDocumentFragment(),o=v(e),i=l.get(e),r=0,d=o.length;r<d;r++){var c=s.get(o[r]),p=c.adopters,m=c.basicStyleElement,u=p.get(e);u?(i.disconnect(),t.appendChild(u),(!u.innerHTML||u.sheet&&!u.sheet.cssText)&&(u.innerHTML=m.innerHTML),i.observe()):((u=document.createElement("style")).innerHTML=m.innerHTML,a.set(u,e),h.set(u,0),p.set(e,u),t.appendChild(u)),e===document.head&&n.push(u)}e.insertBefore(t,e.lastChild);for(var g=0,b=o.length;g<b;g++){var f=s.get(o[g]),y=f.adopters,w=f.actions,x=y.get(e),k=h.get(x);if(w.length>0){for(var $=k,S=w.length;$<S;$++){var _=w[$],C=_[0],M=_[1];x.sheet[C].apply(x.sheet,M)}h.set(x,w.length-1)}}}function $(t){if(document)for(var n=0,o=t.length;n<o;n++){for(var i=t[n],s=i.addedNodes,l=i.removedNodes,h=0,d=l.length;h<d;h++){var c=a.get(l[h]);c&&k(c)}if(!e)for(var p=0,m=s.length;p<m;p++)for(var u=document.createNodeIterator(s[p],NodeFilter.SHOW_ELEMENT,(function(e){var t=r.get(e);return t&&t.adoptedStyleSheets.length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),g=void 0;g=u.nextNode();)k(r.get(g))}}function S(e){var t=new MutationObserver($),n={observe:function(){t.observe(e,{childList:!0,subtree:!0})},disconnect:function(){t.disconnect()}};l.set(e,n),n.observe()}function _(){var e=document.createElement("iframe");e.hidden=!0,document.body.appendChild(e),c.body=e.contentWindow.document.body,c.CSSStyleSheet=e.contentWindow.CSSStyleSheet,y(e.contentWindow.CSSStyleSheet.prototype),S(document.body),d.loaded=!0;for(var i=document.createDocumentFragment(),s=0,a=t.length;s<a;s++)t[s].disabled=!1,i.appendChild(t[s]);c.body.appendChild(i);for(var r=0,l=n.length;r<l;r++)i.appendChild(n[r]);document.body.insertBefore(i,document.body.firstChild);for(var h=0,p=o.length;h<p;h++)k(o[h]);o.length=0,t.length=0,n.length=0}}();const n=(e,t=new CSSStyleSheet)=>(t.replaceSync(e),t),o=n(":host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-color: hotpink;\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n}\n"),i=n("\n:host > ol:first-of-type {\n   box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\n }\n"),s=n(":host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%);\n}\n"),a=n("\n:host > ol:first-of-type {\n   box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%);\n }\n"),r=n(":host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n@media (prefers-color-scheme: dark) {\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n@supports (backdrop-filter: blur(5px)) {\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n@supports (-webkit-backdrop-filter: blur(5px)) {\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n:host {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: var(--layer-1);\n  max-width: min-content;\n  opacity: 0;\n  animation: present-yourself .3s ease forwards\n}\n@media (prefers-reduced-motion: no-preference) {\n:host {\n  transform: translateX(-200%)\n}\n}\n:host [vis-bug-ol] aside {\n    transition: opacity 0.3s ease, transform 0.2s ease;\n  }\n:host .vis-bug-toggle li:not(:last-child) {\n   height: 0;\n   margin: 0;\n   opacity: 0;\n}\n:host > ol {\n  all: initial;\n  cursor: inherit;\n  font-size: 16px;\n  font-family: system-ui;\n  display: flex;\n  flex-direction: column;\n  margin: 1em 0 0 1.5em;\n  padding: 0;\n  list-style-type: none;\n  border-radius: 2em;\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px)\n}\n:host > ol:first-of-type {\n     box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\n     backdrop-filter: blur(5px);\n     -webkit-backdrop-filter: blur(5px);\n     background-color: var(--theme-bd-2);\n   }\n:host > ol {\n  /*&:active {*/\n  /*   cursor: grabbing !important;*/\n  /* }*/\n}\n@media (prefers-color-scheme: dark) {\n:host > ol {\n      box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%)\n}\n    }\n:host li {\n  height: 2.25em;\n  width: 2.25em;\n  margin: 0.05em 0.25em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  opacity: 1;\n  border-radius: 50%;\n  transition: all .5s\n}\n:host li:first-child { margin-top: 0.25em; }\n:host li:last-child { margin-bottom: 0.25em; }\n:host li[data-tool]:hover {\n      cursor: pointer;\n      background-color: var(--theme-icon_hover-bg);\n     }\n:host li[data-tool]:active {\n       background-color: var(--theme-icon_active-bg);\n     }\n:host li[data-active=true] {\n       background-color: var(--theme-bg)\n    }\n:host li[data-active=true] > svg {\n        fill: var(--theme-color);\n      }\n:host li {\n  /*后续扩展可能需要*/\n  /*@media (max-height: 768px) {*/\n  /*  &:is(:nth-of-type(7),:nth-of-type(8), :nth-of-type(9), :nth-of-type(10), :nth-of-type(11), :nth-of-type(12), :nth-of-type(13)) > aside {*/\n  /*    top: auto;*/\n  /*  }*/\n  /*}*/\n}\n:host li > aside {\n       overflow: hidden;\n       position: absolute;\n       direction: ltr;\n       text-align: left;\n       left: 3em;\n       top: 0;\n       z-index: -2;\n       pointer-events: none;\n       background: var(--theme-bg);\n       color: var(--theme-text_color);\n       box-shadow: 0 0.1em 4.5em hsla(0,0%,0%,15%);\n       border-radius: 1em;\n       padding: 1em;\n       opacity: 0;\n       transform: translateX(-1em);\n       will-change: transform, opacity\n     }\n@media (prefers-reduced-motion: reduce) {\n:host li > aside {\n        transition-duration: 0s\n     }\n      }\n:host li > aside > div {\n          white-space: nowrap;\n        }\n:host li:hover > aside {\n       opacity: 1;\n       transform: translateX(0);\n       transition-delay: .5s;\n     }\n:host li > svg {\n  width: 50%;\n  fill: var(--theme-icon_color);\n}\n@keyframes present-yourself {\n  to {\n    opacity: 1;\n    transform: translate3d(0,0,0);\n  }\n}\n"),l=n(':host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host([placement^="top"]) {\n  --align-self: start;\n  --translate-y: -50%;\n}\n\n:host([placement^="bottom"]) {\n  --align-self: end;\n  --translate-y: 50%;\n}\n\n:host([placement$="start"]) {\n  --justify-self: start;\n  --translate-x: -50%;\n}\n\n:host([placement$="end"]) {\n  --justify-self: end;\n  --translate-x: 50%;\n}\n\n:host([placement^="top"]),\n:host([placement^="bottom"]) {\n  --cursor: ns-resize;\n}\n\n:host([placement$="start"]),\n:host([placement$="end"]) {\n  --cursor: ew-resize;\n}\n\n:host([placement="top-start"]) {\n  --cursor: nw-resize;\n}\n\n:host([placement="top-end"]) {\n  --cursor: ne-resize;\n}\n\n:host([placement="bottom-start"]) {\n  --cursor: sw-resize;\n}\n\n:host([placement="bottom-end"]) {\n  --cursor: se-resize;\n}\n\n:host {\n  display: grid;\n  grid-area: 1 / -1;\n  align-self: var(--align-self, center);\n  justify-self: var(--justify-self, center);\n  place-self: var(--align-self, center) var(--justify-self, center);\n  transform: translate(var(--translate-x, 0), var(--translate-y, 0));\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host > button {\n  pointer-events: auto;\n  background-color: white;\n  border: 1px solid hotpink;\n  padding: 0;\n  width: 0.5em;\n  height: 0.5em;\n  border-radius: 50%;\n  position: relative;\n  cursor: var(--cursor);\n}\n\n/*&::before {*/\n\n/*   content: \'\';*/\n\n/*   position: absolute;*/\n\n/*   inset: -0.5rem;*/\n\n/* }*/\n\n/*}*/\n\n'),h=n(":host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host {\n  position: var(--position, 'absolute');\n  top: var(--top);\n  left: var(--left);\n  overflow: visible;\n  pointer-events: none;\n  z-index: var(--layer-3);\n  width: var(--width);\n  height: var(--height);\n  display: grid;\n  grid-template-rows: 1fr;\n  isolation: isolate;\n}\n\n:host > svg {\n  position: absolute;\n}\n"),d=n(':host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host {\n  font-size: 16px;\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n}\n\n:host > span {\n  position: var(--position);\n  top: var(--top);\n  left: var(--left);\n  max-width: var(--max-width);\n  z-index: var(--layer-4);\n  transform: translateY(-100%);\n  background: var(--label-bg, hotpink);\n  border-radius: 0.2em 0.2em 0 0;\n  text-shadow: var(--text-shadow);\n  color: white;\n  display: inline-flex;\n  justify-content: center;\n  font-size: 0.8em;\n  font-weight: normal;\n  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;\n  white-space: nowrap;\n  padding: 0.25em 0.4em 0.15em;\n  line-height: 1.1;\n}\n\n:host a {\n  text-decoration: none;\n  color: inherit;\n  cursor: pointer;\n  text-overflow: ellipsis;\n  overflow: hidden\n}\n\n:host a:hover {\n   text-decoration: underline;\n   color: white;\n }\n\n:host a[node]:before {\n   content: "\\003c";\n }\n\n:host a[node]:after {\n   content: "\\003e";\n }\n'),c=n(':host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host {\n  --line-color: var(--theme-purple);\n  --line-base: var(--theme-color);\n  --line-width: 1px;\n  --distance-h: 5px;\n  --distance-w: 5px;\n  --line-w: 1px;\n  --line-h: 1px;\n  font-size: 16px;\n}\n\n:host > figure {\n  margin: 0;\n  position: absolute;\n  height: var(--distance-h);\n  width: var(--distance-w);\n  top: var(--top);\n  left: var(--left);\n  right: var(--right);\n  overflow: visible;\n  pointer-events: none;\n  z-index: var(--layer-3);\n  display: flex;\n  align-items: center;\n  justify-content: var(--justify, \'flex-start\');\n  flex-direction: var(--direction);\n}\n\n:host > figure figcaption {\n  min-height: 3ex;\n  width: max-content;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  text-shadow: var(--text-shadow);\n  box-shadow: var(--text-shadow);\n  background: hsl(var(--line-color) / 75%);\n  border: 1px solid hsl(var(--line-color));\n  border-radius: 1em;\n  font-size: 0.5em;\n  font-weight: bold;\n  line-height: 1.1;\n  font-family: system-ui;\n  padding: 0 1ex;\n}\n\n/*:host > figure span {*/\n\n/*  background: hsl(var(--line-color));*/\n\n/*  height: var(--line-h);*/\n\n/*  width: var(--line-w);*/\n\n/*}*/\n\n:host > figure div {\n  flex: 2;\n  background: hsl(var(--line-color));\n  width: var(--line-w);\n  height: var(--line-h);\n}\n\n:host figure:matches([quadrant="bottom"], [quadrant="right"]) > div:first-of-type,\n:host figure:matches([quadrant="top"], [quadrant="left"]) > div:last-of-type {\n  background: linear-gradient(to var(--quadrant), hotpink 0%, hsl(var(--line-color)) 100%);\n}\n'),p=n(":host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host rect {\n  width: 100%;\n  height: 100%;\n  vector-effect: non-scaling-stroke;\n  stroke: var(--hover-stroke, var(--theme-purple, hsl(267, 100%, 58%)));\n  stroke-width: 1px;\n  fill: none;\n}\n\n:host > svg {\n  z-index: var(--layer-5);\n  outline: 1px dashed hsl(267, 100%, 58%);\n}\n"),m=n(":host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host {\n  --color: var(--theme-color);\n}\n\n:host > svg {\n  position:absolute;\n  top:0;\n  left:0;\n  overflow:visible;\n  pointer-events:none;\n  z-index:var(--layer-5);\n}\n\n:host rect,\n:host line {\n  stroke: var(--color);\n}\n\n:host line {\n  stroke-dasharray: 2;\n  stroke-dasharray-offset: 3;\n}\n"),u=n(":host [mask] {\n  pointer-events: none;\n  position: absolute;\n  z-index: var(--layer-5);\n  width: var(--width);\n  height: var(--height);\n  top: var(--top);\n  left: var(--left);\n  background-color: var(--bg);\n  clip-path: polygon(\n    0% 0%, 0% 100%, var(--target-left) 100%,\n    var(--target-left) var(--target-top),\n    var(--offset-right) var(--target-top),\n    var(--offset-right) var(--offset-bottom),\n    0 var(--offset-bottom), 0 100%,\n    100% 100%, 100% 0%\n  );\n}\n"),g=n(':host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host {\n  position: absolute;\n  z-index: var(--layer-top);\n\n  --arrow-width: 15px;\n  --arrow-height: 8px;\n\n  --shadow-up: 5px;\n  --shadow-down: -5px;\n  --shadow-direction: var(--shadow-up);\n\n  --arrow-up: polygon(0 0, 100% 0, 50% 100%);\n  --arrow-down: polygon(50% 0, 0 100%, 100% 100%);\n  --arrow: var(--arrow-up);\n\n  --border-radius: .75em;\n\n  --copy-message-left-color: white;\n  --copy-message-right-color: white;\n}\n\n:host figure {\n  all: initial;\n  direction: ltr;\n  font-size: 16px;\n  font-family: system-ui;\n  max-width: 90vw;\n  background: var(--theme-bd);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  color: var(--theme-text_color);\n  line-height: initial;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  border-radius: var(--border-radius);\n  line-height: initial;\n\n  border: 1px solid var(--theme-bg);\n  box-shadow:\n    0 3.6px 3.7px rgba(0, 0, 0, 0.101),\n    0 12.1px 12.3px rgba(0, 0, 0, 0.149),\n    0 -2px 4px rgba(0, 0, 0, 0.101),\n    0 -12.1px 24px rgba(0, 0, 0, 0.149),\n    0 54px 55px rgba(0, 0, 0, 0.25)\n}\n\n@media (min-width: 540px) {\n\n:host figure {\n  max-width: max(40ch, 50vw)\n}\n}\n\n:host figure:after {\n   content: "";\n   background: var(--theme-bg);\n   width: var(--arrow-width);\n   height: var(--arrow-height);\n   clip-path: var(--arrow);\n   position: absolute;\n   top: var(--arrow-top);\n   left: var(--arrow-left);\n }\n\n:host figure a {\n    text-decoration: none;\n    color: inherit;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    cursor: pointer\n}\n\n:host figure a:hover {\n   color: var(--theme-color);\n   text-decoration: underline;\n }\n\n:host figure a:empty {\n   display: none;\n }\n\n:host figure a[node]:before {\n   content: "\\003c";\n }\n\n:host figure a[node]:after {\n   content: "\\003e";\n }\n\n:host h5 {\n  display: flex;\n  font-size: 1em;\n  font-weight: bolder;\n  margin: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: max-content;\n}\n\n:host small {\n  font-size: 0.7em;\n  color: var(--theme-icon_color)\n}\n\n:host small > span {\n    color: var(--theme-text_color);\n  }\n\n:host a:not(:hover) {\n  text-decoration: none;\n}\n\n:host [brand] {\n  color: var(--theme-color);\n}\n\n:host [divider] {\n  color: var(--theme-blue);\n}\n\n:host header {\n  padding: 5px 10px;\n  user-select: none;\n  text-shadow: var(--text-shadow);\n}\n\n:host code {\n  display: grid;\n  grid-template-columns: max-content auto;\n  grid-gap: .25em .5em;\n  gap: .25em .5em;\n  border-radius: var(--border-radius);\n  list-style-type: none;\n  color: var(--light-grey);\n  background-color: var(--theme-bd-2);\n  border-top: 1px solid var(--theme-bg);\n  font-size: 1em;\n  font-family: \'Dank Mono\', \'Operator Mono\', \'Inconsolata\', \'Fira Mono\', \'SF Mono\', \'Monaco\', \'Droid Sans Mono\', \'Source Code Pro\', monospace\n}\n\n:host code[accessibility] > [prop]:first-of-type {\n   color: var(--theme-text_color);\n }\n\n:host details > :is(summary,code),\n:host > figure > code {\n  padding: 10px;\n  border-radius: var(--border-radius);\n}\n\n:host summary {\n  outline-offset: -2px;\n  outline-color: var(--theme-color);\n  max-inline-size: max-content\n}\n\n:host summary::marker {\n   color: var(--theme-color);\n }\n\n:host [value],\n:host [local-change] {\n  color: var(--theme-text_color);\n  display: inline-grid;\n  grid-auto-flow: column;\n  grid-gap: .5em;\n  gap: .5em;\n  align-items: center;\n  justify-content: flex-end;\n  text-align: right;\n  /* white-space: pre; */\n}\n\n:host [text] {\n  white-space: normal;\n}\n\n:host [longform] {\n  background: var(--theme-icon_hover-bg);\n  padding: 0.5em 0.75em;\n  border-radius: .25em;\n  font-family: sans-serif;\n  text-align: left;\n  line-height: 1.5;\n  max-inline-size: 40ch;\n}\n\n:host [prop] {\n  color: var(--theme-color);\n}\n\n:host [color] {\n  position: relative;\n  top: 1px;\n  display: inline-block;\n  width: 1em;\n  min-width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  box-shadow: inset 0 0 1px 0 hsla(0, 0%, 0%, 0.5);\n}\n\n:host [color-value] {\n  white-space: nowrap;\n}\n\n:host [local-modifications] {\n  margin-top: 1em;\n  margin-inline: 10px;\n  color: var(--theme-purple);\n  font-weight: bold\n}\n\n:host [local-modifications] + div {\n    margin-bottom: 1em;\n  }\n\n:host [contrast-compliance] {\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-gap: 3ch;\n  gap: 3ch;\n  padding: 10px 10px 5px;\n}\n\n:host [contrast] {\n  display: grid;\n  justify-items: start\n}\n\n:host [contrast] > [value] {\n    font-size: 1.5em;\n  }\n\n:host [compliance] {\n  display: grid\n}\n\n:host [compliance] > div {\n    display: flex;\n    align-items: center;\n    grid-gap: 2ch;\n    gap: 2ch;\n  }\n\n:host [compliance] > div > span {\n    display: flex;\n    align-items: center;\n    grid-gap: .5ch;\n    gap: .5ch;\n  }\n\n:host [compliance] svg {\n    block-size: .75em;\n  }\n\n:host :is([contrast],[compliance]) [title] {\n  font-size: .7em;\n  opacity: .8;\n}\n\n:host [color-swatches] {\n  display: flex;\n  width: 100%;\n  height: 7em;\n  flex-direction: row;\n  padding: 0\n}\n\n@media (max-width: 700px) {\n\n:host [color-swatches] {\n  flex-direction: column;\n  height: 14em\n}\n}\n\n:host [color-swatch] {\n  min-width: 20ch;\n  height: 7em;\n  display: grid;\n  position: relative;\n  align-content: end;\n  box-sizing: border-box;\n  padding: 10px;\n  margin: 0;\n  cursor: copy\n}\n\n@media (max-width: 700px) {\n\n:host [color-swatch] {\n  width: 100%\n}\n}\n\n:host [color-swatch] > small,\n:host [color-swatch] > span,\n:host [color-swatch]:after {\n  cursor: copy;\n}\n\n:host [color-swatch] > small {\n  opacity: .8;\n}\n\n:host [color-swatch]:after {\n  content: "📋 \\00a0 copy";\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  transition: opacity 0.3s;\n  opacity: 0;\n}\n\n:host [color-swatch]:nth-child(1):after {\n  color: var(--copy-message-left-color);\n}\n\n:host [color-swatch]:nth-child(2):after {\n  color: var(--copy-message-right-color);\n}\n\n:host [color-swatch]:hover:after {\n  opacity: 1;\n}\n\n:host [color-swatch]:focus:after {\n  content: "📋 \\00a0 copied";\n}\n\n:host [accessibility] {\n  display: flex;\n  flex-direction: column\n}\n\n:host [accessibility] > :not([contrast-compliance]) {\n    display: grid;\n    align-items: center;\n    grid-template-columns: max-content 1fr\n}\n\n:host [accessibility] > :not([contrast-compliance]) [value] {\n    display: grid;\n    justify-content: flex-start;\n    padding-left: 1em;\n    text-align: left;\n  }\n\n:host [accessibility] > [contrast-compliance] {\n    justify-content: space-between\n}\n\n:host [accessibility] > [contrast-compliance] [value] {\n    justify-content: flex-start;\n    margin-right: 7px;\n  }\n\n:host [score] {\n  font-size: 1.5em;\n  line-height: .75\n}\n\n:host [score][pass="true"] { color: green; }\n\n:host [score][pass="false"] { color: red; }\n\n@media (prefers-color-scheme: dark) {\n:host [score][pass="true"] { color: hsl(120deg, 50%, 75%); }\n:host [score][pass="false"] { color: hsl(0deg, 50%, 65%); }\n}\n'),b=n('\n:host [score][pass="true"] { color: green; }\n:host [score][pass="false"] { color: red; }\n'),v=n('\n:host [score][pass="true"] { color: hsl(120deg, 50%, 75%); }\n:host [score][pass="false"] { color: hsl(0deg, 50%, 65%); }\n'),f=n(':host {\n  --theme-bg: hsl(0, 0%, 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188, 90%, 45%);\n  --theme-purple: hsl(267, 100%, 58%);\n\n  --theme-text_color: hsl(0, 0%, 10%);\n  --theme-icon_color: hsl(0, 0%, 20%);\n  --theme-icon_hover-bg: hsl(0, 0%, 95%);\n  --theme-icon_active-bg: hsl(0, 0%, 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n\n  --text-shadow: 0 1px hsla(0, 0%, 0%, 0.4)\n\n}\n\n@media (prefers-color-scheme: dark) {\n\n:host {\n  --theme-bg: hsl(0, 0%, 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg, 65%, 75%);\n  --theme-text_color: hsl(0, 0%, 90%);\n  --theme-icon_color: hsl(0, 0%, 80%);\n  --theme-icon_hover-bg: hsl(0, 0%, 15%);\n  --theme-icon_active-bg: hsl(0, 0%, 20%)\n\n}\n}\n\n@supports (backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n@supports (-webkit-backdrop-filter: blur(5px)) {\n\n:host {\n  --theme-bd-opacity: .8;\n  --theme-bd-2-opacity: .9\n\n}\n}\n\n:host .loading {\n     pointer-events: none; /* 禁用点击事件 */\n     opacity: 0.5; /* 设置透明度 */\n     cursor: progress; /* 设置鼠标指针为加载指针 */\n   }\n\n:host .pixel-match-page {\n       position: fixed;\n       left: 0;\n       top: 0;\n       right: 0;\n       bottom: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: #ffffff;\n      z-index: var(--layer-2);\n     }\n\n:host .pixel-match {\n      width: calc(100% - 40px);\n      padding: 20px;\n      height: calc(100% - 40px);\n      transition: all .3s;\n    }\n\n:host .pixel-match-block {\n      height: calc(50% - 10px);\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n\n:host .pixel-match-block .match-img-origin:after {\n      content: "原图";\n      position: absolute;\n      top: 0;\n      left: 0;\n      background: rgba(0, 0, 0, 0.5);\n      color: #fff;\n      padding: 5px;\n    }\n\n:host .pixel-match-block .match-img-page:after {\n      content: "对比图";\n      position: absolute;\n      top: 0;\n      left: 0;\n      background: rgba(0, 0, 0, 0.5);\n      color: #fff;\n      padding: 5px;\n    }\n\n:host .match-img-origin, :host .match-img-page {\n      position: relative;\n      border: 1px solid rgba(0, 0, 0, 0.5);\n      border-radius: 4px;\n      width: calc(50% - 10px);\n      height: 100%;\n      overflow: hidden;\n    }\n\n:host .hover-mask {\n  position: relative;\n}\n\n:host .hover-mask .ui-upload-operate {\n  display: none !important;\n}\n\n:host .hover-mask:hover svg {\n  display: block;\n}\n\n:host .hover-mask svg:hover {\n  width: 100px;\n  height: 100px;\n}\n\n:host .hover-mask:hover::before {\n  content: "";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2); /* 半透明黑色背景 */\n}\n\n:host .pixel-match-block svg {\n  position: absolute;\n  width: 80px;\n  height: 80px;\n  top: 50%;\n  left: 50%;\n  transition: all .3s;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n  display: none;\n}\n\n:host .pixel-match-block .ui-upload-operate {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n  }\n\n:host .ui-upload-operate button:not(:first-child) {\n    margin-left: 10px;\n  }\n\n:host .pixel-match-result {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 20px;\n      height: calc(50% - 10px);\n    }\n\n:host .match-operator {\n       width: calc(50% - 10px);\n      border: 1px solid rgba(0, 0, 0, 0.5);\n      border-radius: 4px;\n        padding-top: 20px;\n    }\n\n:host .operator-line {\n      display: flex;\n      align-items: center;\n      line-height: 35px;\n      padding: 0 20px;\n      font-weight: 500;\n    }\n\n:host .operator-line span {\n      margin-right: 10px;\n    }\n\n:host .slider-container {\n      width: 300px;\n      position: relative;\n      padding-top: 5px;\n    }\n\n:host .slider {\n      -webkit-appearance: none;\n      width: 100%;\n      height: 15px;\n      background: #d3d3d3;\n      outline: none;\n      opacity: 0.7;\n      transition: opacity .2s;\n      border-radius: 10px;\n      position: relative;\n    }\n\n:host .slider::-webkit-slider-thumb {\n      appearance: none;\n      width: 25px;\n      height: 25px;\n      background: hsl(267, 100%, 58%);\n      border-radius: 50%;\n      cursor: pointer;\n      position: relative;\n      z-index: 2;\n    }\n\n:host .slider::-moz-range-thumb {\n      width: 25px;\n      height: 25px;\n      background: hsl(267, 100%, 58%);\n      border-radius: 50%;\n      cursor: pointer;\n      position: relative;\n      z-index: 2;\n    }\n\n:host .slider-value {\n      text-align: center;\n      font-size: 14px;\n      margin-left: 10px;\n    }\n\n:host img[src=""], :host img:not([src]){\n      opacity: 0;\n      border:none;\n      visibility: hidden;\n      max-width: none;\n    }\n\n:host .visbug-magnifier {\n      display: none;\n      /* 当元素祖先的 transform, perspective 或 filter 属性非 none 时，容器由视口改为该祖先 */\n      position: fixed;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0, 0, 0, 0.5); /* 半透明黑色背景 */\n      z-index: var(--layer-top);\n    }\n\n:host .visbug-magnifier img {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n:host .close-btn {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      width: 30px;\n      height: 30px;\n      cursor: pointer;\n      opacity: 0.7;\n      transition: opacity 0.3s;\n    }\n\n:host .close-btn:hover {\n      opacity: 1;\n    }\n\n:host .close-icon {\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n\n:host .close-icon::before,\n    :host .close-icon::after {\n      content: \'\';\n      position: absolute;\n      width: 2px;\n      height: 20px;\n      background-color: white;\n      top: 5px;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n\n:host .close-icon::before {\n      transform: rotate(45deg);\n    }\n\n:host .close-icon::after {\n      transform: rotate(-45deg);\n    }\n\n:host #diffCanvas:hover {\n      cursor: -webkit-zoom-in;\n    }\n'),y={on:function(e,t){return e.split(" ").forEach(e=>{this.addEventListener(e,t)}),this},off:function(e,t){return e.split(" ").forEach(e=>{this.removeEventListener(e,t)}),this},attr:function(e,t){return void 0===t?this.getAttribute(e):(null===t?this.removeAttribute(e):this.setAttribute(e,t||""),this)}};function w(e,t=document){let n=e instanceof NodeList||Array.isArray(e)?e:e instanceof HTMLElement||e instanceof SVGAElement||"http://www.w3.org/2000/svg"===e.namespaceURI?[e]:t.querySelectorAll(e);return n.length||(n=[]),Object.assign(Array.from(n).map(e=>Object.assign(e,y)),{on:function(e,t){return this.forEach(n=>n.on(e,t)),this},off:function(e,t){return this.forEach(n=>n.off(e,t)),this},attr:function(e,t){return"string"==typeof e&&void 0===t?this[0].attr(e):("object"==typeof e?this.forEach(t=>Object.entries(e).forEach(([e,n])=>t.attr(e,n))):"string"!=typeof e||!t&&null!=t&&""!=t||this.forEach(n=>n.attr(e,t)),this)}})}const x=(e,t)=>{const n=document.elementFromPoint(e,t),o=n=>{if(n.shadowRoot){const i=n.shadowRoot.elementFromPoint(e,t);return i==n?n:o(i)}return n};return o(n)||n},k=e=>e.closest&&(e.closest("vis-bug")||e.closest("visbug-metatip")||e.closest("visbug-label")||e.closest("visbug-handles")||e.closest("visbug-gridlines")||e.closest("visbug-compare")),$=e=>{do{if("fixed"==window.getComputedStyle(e).position)return!0}while(e=e.offsetParent);return!1};function S(){const e=window.innerHeight,t=window.innerWidth,n=document.documentElement.clientWidth;return{winHeight:e,winWidth:n<=t?n:t}}const _=(e,t,n,i)=>{const a=n?[t,o,n]:[t,o],r=i?[t,s,i]:[t,s];return n=>{e.adoptedStyleSheets="light"===n?a:"dark"===n?r:[t]}},C=navigator.userAgent.search("Firefox")>0,M=navigator.userAgent.search("Safari")>0,E=navigator.userAgent.search("Chrome")>0,L=M&&!E,z={color:"rgb(0, 0, 0)",backgroundColor:"rgba(0, 0, 0, 0)",backgroundImage:"none",backgroundSize:"auto",backgroundPosition:"0% 0%",borderRadius:"0px",boxShadow:"none",padding:"0px",margin:"0px",fontFamily:"auto",fontSize:"16px",fontWeight:"400",textAlign:"start",textShadow:"none",textTransform:"none",lineHeight:"normal",letterSpacing:"normal",display:"block",alignItems:"normal",justifyContent:"normal",flexDirection:"row",flexWrap:"nowrap",flexBasis:"auto",fill:"rgb(0, 0, 0)",stroke:"none",gridTemplateColumns:"none",gridAutoColumns:"auto",gridTemplateRows:"none",gridAutoRows:"auto",gridTemplateAreas:"none",gridArea:"auto / auto / auto / auto",gap:"normal",gridAutoFlow:"row"};C&&(z.backgroundSize="auto",z.borderWidth="",z.borderRadius="",z.padding="",z.margin="",z.gap="",z.gridArea="",z.borderColor=""),L&&(z.gap="normal normal");const A=(e,t)=>{if(document.defaultView&&document.defaultView.getComputedStyle){t=(t=t.replace(/([A-Z])/g,"-$1")).toLowerCase();let n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}},P=(e,t=!1)=>{if(!e.className)return"";const n=Array.from(e.classList).reduce((e,t)=>e+"."+t,"");return t&&n.length>30?n.substring(0,30)+"...":n},T=(e="")=>e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase());const I={distances:[],target:null},H=()=>{I.distances&&(w("[data-measuring]").forEach(e=>{e.removeAttribute("data-measuring")}),I.distances.forEach(e=>e.remove()),I.distances=[])};function R(e){const t=window.innerHeight,n=Math.min(e.bottom,t)-Math.max(e.top,0);return Math.max(e.top,0)+n/2}const j={gridlines:null,needPadding:!1};function F(e,t){return j.needPadding=t,w("body").on("mousemove",q),w("body").on("mouseout",V),window.addEventListener("scroll",B),e.onSelectedUpdate(O),()=>{w("body").off("mousemove",q),w("body").off("mouseout",V),window.removeEventListener("scroll",B),e.removeSelectedCallback(O),H(),B()}}const q=e=>{const t=x(e.clientX,e.clientY);k(t)||D(t)},O=e=>{e.length&&(j.gridlines&&j.gridlines.remove(),j.gridlines=null)},V=()=>{B()},D=e=>{const t=A(e,"padding");let n;j.needPadding&&"0px"!==t&&(n=document.createElement("visbug-boxmodel"),n.position=U(e)),j.gridlines?(j.gridlines.style.display=null,j.gridlines.update=e.getBoundingClientRect(),j.gridlines.backdrop={element:n}):(j.gridlines=document.createElement("visbug-gridlines"),j.gridlines.position=e.getBoundingClientRect(),j.gridlines.backdrop={element:n},document.body.appendChild(j.gridlines))},B=()=>{j.gridlines&&(j.gridlines.style.display="none")},U=e=>{const t=e.getBoundingClientRect(),n={top:A(e,"paddingTop"),right:A(e,"paddingRight"),bottom:A(e,"paddingBottom"),left:A(e,"paddingLeft")};return Object.entries(n).forEach(([t,o])=>{"number"!=typeof o&&(o=parseInt(A(e,"padding-"+t).slice(0,-2))),n[t]=Math.round(100*o.toFixed(1))/100}),{bounds:t,sides:n}};function N(e){const t=w(document.body)[0];let n=[],o=[],i=[],s=[],a={target:null,element:null,label:null};const r=()=>{t.on("click",l),t.on("mousemove",d),t.on("dblclick",h)},l=e=>{const t=x(e.clientX,e.clientY);k(t)&&!o.filter(e=>e==t).length||(e.preventDefault(),e.shiftKey||(e.stopPropagation(),H(),c({silent:!0})),p(t))},h=e=>{e.preventDefault(),e.stopPropagation();const t=x(e.clientX,e.clientY);k(t)||[t].map(e=>{let t=w(e);t.attr({contenteditable:!0,spellcheck:!0}),e.focus(),t.on("keydown",Y),t.on("blur",X)})},d=t=>{const n=x(t.clientX,t.clientY),i=e.activeTool;if((!k(n)||o.filter(e=>e==n).length)&&(H(),C(),v({el:n,no_label:"inspector"===i}),"guides"===i&&o.length>=1&&!o.includes(n))){n.setAttribute("data-measuring",!0);const[e]=o;(({$anchor:e,$target:t})=>{if(I.target==t&&I.distances.length)return;I.target=t,I.distances.length&&H();const n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=[];o.left>n.right&&i.push({x:n.right,y:R(n),d:o.left-n.right,q:"right",index:1}),o.right>n.right&&n.right>o.left&&i.push({x:n.right,y:R(n),d:o.right-n.right,q:"right",index:2}),o.right<n.left&&i.push({x:o.right,y:R(n),d:n.left-o.right,q:"right",index:3}),o.right>n.left&&o.left<n.left&&i.push({x:o.left,y:R(n),d:n.left-o.left,q:"right",index:4}),n.top>o.bottom&&i.push({x:n.left+n.width/2-3,y:o.bottom,d:n.top-o.bottom,q:"top",v:!0,index:5}),n.top<o.bottom&&n.top>o.top&&i.push({x:n.left+n.width/2-3,y:o.top,d:n.top-o.top,q:"top",v:!0,index:6}),o.top>n.bottom&&i.push({x:n.left+n.width/2-3,y:n.bottom,d:o.top-n.bottom,q:"bottom",v:!0,index:7}),o.bottom>n.bottom&&o.top<n.bottom&&i.push({x:n.left+n.width/2-3,y:n.bottom,d:o.bottom-n.bottom,q:"bottom",v:!0,index:8}),n.right>o.right&&n.left<o.left&&(i.push({x:o.right,y:R(n),d:n.right-o.right,q:"right",index:9}),i.push({x:n.left,y:R(n),d:o.left-n.left,q:"right",index:10})),n.top<o.top&&n.bottom>o.bottom&&(i.push({x:n.left+n.width/2-3,y:n.top,d:o.top-n.top,q:"bottom",v:!0,index:11}),i.push({x:n.left+n.width/2-3,y:o.bottom,d:n.bottom-o.bottom,q:"top",v:!0,index:12})),i.map(e=>Object.assign(e,{d:Math.round(100*e.d.toFixed(1))/100})).filter(e=>Math.round(e.d)>0).forEach(e=>{const t=document.createElement("visbug-distance");t.position={line_model:e,node_label_id:I.distances.length},document.body.appendChild(t),I.distances[I.distances.length]=t})})({$anchor:e,$target:n})}},c=({silent:e=!1}={})=>{o.forEach(e=>{w(e).attr({"data-selected":null,"data-label-id":null,"data-measuring":null})}),Array.from([...w("visbug-handles"),...w("visbug-label"),...w("visbug-hover"),...w("visbug-distance")]).forEach(e=>e.remove()),s=[],i=[],o=[],!e&&m()},p=t=>{const n=i.length,s=e.activeTool;t.setAttribute("data-selected",!0),t.setAttribute("data-label-id",n),g({el:t,id:n,no_label:"inspector"===s||"guides"===s}),o.unshift(t),m()},m=()=>n.forEach(e=>e(o));r();const u=(t,{handle:n,label:o})=>new MutationObserver(i=>{o&&((t,n)=>{n.text=W(t,e.activeTool),n.update={boundingRect:t.getBoundingClientRect(),isFixed:$(t)}})(t,o),n&&((e,t)=>{t.position={el:e,node_label_id:e.getAttribute("data-label-id")}})(t,n)}),g=({el:t,id:n,no_label:o=!0})=>{let i=f({el:t,id:n}),s=o?null:S({el:t,id:n,template:W(t,e.activeTool)}),a=u(t,{handle:i,label:s}),r=u(t,{handle:i,label:s});a.observe(t,{attributes:!0}),r.observe(t.parentNode,{childList:!0,subtree:!0});b(i,()=>{a.disconnect(),r.disconnect()}).observe(i.parentNode,{childList:!0,subtree:!0})},b=(e,t)=>{const n=new MutationObserver(o=>{o.forEach(o=>{o.removedNodes.length>0&&Array.from(o.removedNodes).includes(e)&&(t&&t(),n.disconnect())})});return n},v=({el:e,no_hover:t=!1,no_label:n=!0})=>{a.target!==e&&(a.target=e,a.element=t?null:_(e),a.label=n?null:y(e,W(e,"wh")))},f=({el:e,id:t})=>{if(!i[t]){const n=document.createElement("visbug-handles");return n.position={el:e,node_label_id:t},document.body.appendChild(n),i[i.length]=n,n}},y=(e,t)=>(a.label&&a.label.remove(),a.label=document.createElement("visbug-label"),document.body.appendChild(a.label),a.label.text=t,a.label.position={boundingRect:{...e.getBoundingClientRect(),x:0,y:18},node_label_id:"hover",isFixed:!0},a.label.style.setProperty("--label-bg","hsla(267, 100%, 58%, .3)"),a.label),S=({el:e,id:t,template:n})=>{if(!s[t]){const o=document.createElement("visbug-label");return o.text=n,o.position={boundingRect:e.getBoundingClientRect(),node_label_id:t,isFixed:$(e)},document.body.appendChild(o),s[s.length]=o,o}},_=e=>{if(!e.hasAttribute("data-label-id"))return a.element&&a.element.remove(),a.element=document.createElement("visbug-hover"),document.body.appendChild(a.element),a.element.position={el:e},a.element},C=()=>{a.target&&(a.element&&a.element.remove(),a.label&&a.label.remove(),a.target=null,a.element=null,a.label=null)};return{listen:r,unselect_all:c,onSelectedUpdate:(e,t)=>{n.push(e),t&&e(o)},removeSelectedCallback:e=>{n=n.filter(t=>t!=e)},disconnect:()=>{c(),t.off("click",l),t.off("mousemove",d),t.off("dblclick",h)}}}const W=(e,t)=>{switch(t){case"wh":const{width:t,height:n}=e.getBoundingClientRect();return`\n        <span style='margin-right: 10px'>w: ${Math.round(t)}</span>\n        <span>h: ${Math.round(n)}</span>\n       `;case"align":return A(e,"display");default:return`\n        <a node>${e.nodeName.toLowerCase()}</a>\n        <a>${e.id&&"#"+e.id}</a>\n        ${P(e).split(".").filter(e=>""!=e).reduce((e,t)=>`\n            ${e}\n            <a>.${t}</a>\n          `,"")}\n      `}},Y=e=>"Escape"!=e.key&&e.stopPropagation(),X=({target:e})=>{e.removeAttribute("contenteditable"),e.removeAttribute("spellcheck"),e.removeEventListener("blur",X),e.removeEventListener("keydown",Y)};const G={active:{tip:null,target:null},tips:new Map};const Z=e=>{e[0]==G.active.target?G.restoring=!0:(G.restoring=!1,ee())},J=e=>{const t=x(e.clientX,e.clientY);"VISBUG-METATIP"!==t.nodeName&&(k(t)||function(e,t){if(G.restoring)return;if(G.active.tip)e==G.active.target||(K(e,G.active.tip),G.active.target=e),Q(G.active.tip,t);else{const n=K(e);document.body.appendChild(n),Q(n,t),G.active.tip=n,G.active.target=e}}(t,e))};const K=(e,t=document.createElement("visbug-metatip"))=>{const{width:n,height:o}=e.getBoundingClientRect(),i=(e=>{const t=window.getComputedStyle(e,null),n=[],o=[];for(const i in e.style){const e=z[i];e&&e!=t[i]&&n.push({prop:i,value:t[i]}),"borderColor"!==i&&"borderWidth"!==i&&"borderStyle"!==i||(o[i]=t[i].replace(/, rgba/g,"\rrgba"))}const{borderColor:i,borderWidth:s,borderStyle:a}=o;return parseFloat(s)>0&&(n.push({prop:"borderColor",value:i}),n.push({prop:"borderStyle",value:a}),n.push({prop:"borderWidth",value:s})),n.sort((function({prop:e},{prop:t}){return e<t?-1:e>t?1:0}))})(e).map(e=>Object.assign(e,{prop:T(e.prop)})).filter(t=>!t.prop.includes("font-family")||e.matches("h1,h2,h3,h4,h5,h6,p,a,dd,dt,li,ol,pre,abbr,cite,dfn,kbd,q,small,input,label,legend,textarea,blockquote,date,button,figcaption,nav,header,footer,em,b,code,mark,time,summary,details")).map(t=>{if(t.prop.includes("color")||t.prop.includes("background-color")||t.prop.includes("border-color")||t.prop.includes("Color")||t.prop.includes("fill")||t.prop.includes("stroke")){let e=t.value;if(!/^#[0-9A-Fa-f]{6}$/.test(t.value)){const n=t.value.toString().match(/\((\d+),\s*(\d+),\s*(\d+)\)/);if(n){const[,t,o,i]=n.map(Number);e=function([e,t,n]){const o=e=>{const t=e.toString(16);return 1==t.length?"0"+t:t};return"#"+o(e)+o(t)+o(n)}([t,o,i])}}t.value=`\n          <span color style="background-color:${t.value};"></span>\n          <span color-value>${e}</span>\n        `}if(t.prop.includes("box-shadow")){const[,e,o,i,s,a]=(n=t.value,/([^\)]+\)) ([^\s]+) ([^\s]+) ([^\s]+) ([^\s]+)/.exec(n));t.value=`${o} ${i} ${s} ${a}`}var n;if(t.prop.includes("text-shadow")){const[,e,n,o,i]=(e=>/([^\)]+\)) ([^\s]+) ([^\s]+) ([^\s]+)/.exec(e))(t.value);t.value=`${n} ${o} ${i}`}return t.prop.includes("font-family")&&(t.value=`<span string value>${t.value}</span>`),t.prop.includes("grid-template-areas")&&(t.value=t.value.replace(/" "/g,'"<br>"')),t.prop.includes("background-image")&&(t.value=`<a target="_blank" href="${t.value.slice(t.value.indexOf("(")+2,t.value.length-2)}">${t.value.slice(0,25)+"..."}</a>`),e.getAttribute("style")&&e.getAttribute("style").includes(t.prop)&&(t.value=`<span local-change>${t.value}</span>`),t}),s=i.filter(t=>e.getAttribute("style")&&e.getAttribute("style").includes(t.prop)?1:0),a=i.filter(t=>e.getAttribute("style")&&e.getAttribute("style").includes(t.prop)?0:1);return t.meta={localModifications:s,notLocalModifications:a,el:e,width:n,height:o},t};function Q(e,t){const{north:n,west:o}=(e=>({north:e.clientY>window.innerHeight/2,west:e.clientX>window.innerWidth/2}))(t),{left:i,top:s}=((e,t,n,o)=>({top:(n?t.pageY-e.clientHeight-20:t.pageY+25)+"px",left:(o?t.pageX-e.clientWidth+23:t.pageX-21)+"px"}))(e,t,n,o);e.style.left=i,e.style.top=s,e.style.setProperty("--arrow",n?"var(--arrow-up)":"var(--arrow-down)"),e.style.setProperty("--arrow-top",n?"100%":"-8px"),e.style.setProperty("--arrow-left",o?"calc(100% - 15px - 15px)":"15px")}const ee=()=>{G.active.tip&&(G.active.tip.remove(),G.active.tip=null,G.active.target=null)};window.loadScript=ie,window.html2canvas||ie("https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js");let te={compare:null,visible:!1,selected:[]};const ne=()=>{te.compare.style.display="none",te.visible=!1},oe=e=>(console.log("selected",e),e.length?new Promise((t,n)=>{const o={name:"元素截图",logging:!1,scale:2*window.devicePixelRatio};let i;window.html2canvas(e[0],{...o,allowTaint:!0,useCORS:!0}).then(e=>{try{i=e.toDataURL("image/jpeg",1),t(i)}catch(e){n(),console.error("截图获取失败，请稍后重试或联系管理员")}})}):(alert("请先选择需要截图的元素"),Promise.resolve()));function ie(e){return new Promise((t,n)=>{let o=document.createElement("script");o.type="text/javascript",o.src=e,o.crossOrigin="anonymous";try{o.appendChild(document.createTextNode("//code"))}catch(e){o.text="//code"}document.body.appendChild(o),o.onload=()=>{t()},o.onerror=()=>{n()}})}class se extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"}),this.styles=[h],this.on_resize=this.on_window_resize.bind(this)}connectedCallback(){this.$shadow.adoptedStyleSheets=this.styles,window.addEventListener("resize",this.on_resize)}disconnectedCallback(){window.removeEventListener("resize",this.on_resize)}on_window_resize(){window.requestAnimationFrame(()=>{const e=this.$shadow.host.getAttribute("data-label-id"),[t]=w(`[data-label-id="${e}"]`);t&&(this.position={node_label_id:e,el:t,isFixed:$(t)})})}set position({el:e,node_label_id:t}){this.$shadow.innerHTML=this.render(e.getBoundingClientRect(),t,$(e))}render({x:e,y:t,width:n,height:o,top:i,left:s},a,r){return this.$shadow.host.setAttribute("data-label-id",a),this.style.setProperty("--top",i+(r?0:window.scrollY)+"px"),this.style.setProperty("--left",s+"px"),this.style.setProperty("--position",r?"fixed":"absolute"),this.style.setProperty("--width",n+"px"),this.style.setProperty("--height",o+"px"),`\n      <svg\n        class="visbug-handles"\n        width="${n}" height="${o}"\n        viewBox="0 0 ${n} ${o}"\n        version="1.1" xmlns="http://www.w3.org/2000/svg"\n      >\n        <rect stroke="hotpink" fill="none" width="100%" height="100%"></rect>\n      </svg>\n      <visbug-handle placement="top-start"></visbug-handle>\n      <visbug-handle placement="top-center"></visbug-handle>\n      <visbug-handle placement="top-end"></visbug-handle>\n      <visbug-handle placement="middle-start"></visbug-handle>\n      <visbug-handle placement="middle-end"></visbug-handle>\n      <visbug-handle placement="bottom-start"></visbug-handle>\n      <visbug-handle placement="bottom-center"></visbug-handle>\n      <visbug-handle placement="bottom-end"></visbug-handle>\n    `}}customElements.define("visbug-handles",se);class ae extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"}),this.styles=[l]}static get observedAttributes(){return["placement"]}attributeChangedCallback(e,t,n){"placement"===e&&(this.placement=n)}connectedCallback(){this.$shadow.adoptedStyleSheets=this.styles,this.$shadow.innerHTML=this.render(),this.button=this.$shadow.querySelector("button"),this.placement=this.getAttribute("placement")}on_element_resize_start(e){e.preventDefault(),e.stopPropagation()}disconnectedCallback(){}render(){return'\n      <button type="button" aria-label="Resize"></button>\n    '}}customElements.define("visbug-handle",ae);class re extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"}),this.on_resize=this.on_resize.bind(this)}connectedCallback(){this.$shadow.adoptedStyleSheets=[d],window.addEventListener("resize",this.on_resize)}disconnectedCallback(){window.removeEventListener("resize",this.on_resize)}on_resize(){window.requestAnimationFrame(()=>{const e=this.$shadow.host.getAttribute("data-label-id"),[t]=w(`[data-label-id="${e}"]`);t&&(this.position={node_label_id:e,boundingRect:t.getBoundingClientRect(),isFixed:$(t)})})}set text(e){this.$shadow.childElementCount?this.$shadow.firstElementChild.innerHTML=e:this._text=e}set position({boundingRect:e,node_label_id:t,isFixed:n}){this.$shadow.innerHTML=this.render(t),this.update={boundingRect:e,isFixed:n}}set update({boundingRect:e,isFixed:t}){const n=e.y+(t?0:window.scrollY),o=e.x,i=t?"fixed":"absolute";this.style.setProperty("--top",n+"px"),this.style.setProperty("--left",o+"px"),this.style.setProperty("--max-width",e.width+(window.innerWidth-e.x-e.width-20)+"px"),this.style.setProperty("--position",i),this.setAttribute("data-original-top",n),this.setAttribute("data-original-left",o),this.setAttribute("data-original-position",i)}render(e){return this.$shadow.host.setAttribute("data-label-id",e||"label_"+Number(new Date)),`<span>${this._text}</span>`}}customElements.define("visbug-label",re);class le extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"})}connectedCallback(){this.$shadow.adoptedStyleSheets=[c]}disconnectedCallback(){}set position({line_model:e,node_label_id:t}){this.styleProps=e,this.$shadow.innerHTML=this.render(e,t)}set styleProps({y:e,x:t,d:n,q:o,v:i=!1,color:s,index:a}){this.style.setProperty("--top",e+window.scrollY+"px"),this.style.setProperty("--right","left"===o?t+"px":"auto"),this.style.setProperty("--left","left"!==o?t+"px":"auto"),this.style.setProperty("--direction",i?"column":"row"),this.style.setProperty("--quadrant",o),"left"===o&&this.style.setProperty("--justify","flex-end"),i?this.style.setProperty("--distance-h",n+"px"):this.style.setProperty("--distance-w",n+"px"),i?this.style.setProperty("--line-h","var(--line-w)"):this.style.setProperty("--line-w","var(--line-w)"),this.style.setProperty("--line-color","pink"===s?"330 100% 71%":"267 100% 58%"),this.style.setProperty("--line-base","pink"===s?"330 100% 71%":"267 100% 58%")}render({q:e,d:t},n){return this.$shadow.host.setAttribute("data-label-id",n),`\n      <figure quadrant="${e}">\n        <div></div>\n        <figcaption>${Math.round(t)}</figcaption>\n        <div></div>\n      </figure>\n    `}}customElements.define("visbug-distance",le);customElements.define("visbug-hover",class extends se{constructor(){super(),this.styles=[h,p]}render({width:e,height:t,top:n,left:o},i,s){return this.style.setProperty("--top",n+(s?0:window.scrollY)+"px"),this.style.setProperty("--left",o+"px"),this.style.setProperty("--position",s?"fixed":"absolute"),`\n      <svg\n        width="${e}" height="${t}"\n        viewBox="0 0 ${e} ${t}"\n      >\n        <rect fill="none" width="100%" height="100%"></rect>\n    `}});class he extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"})}connectedCallback(){this.$shadow.adoptedStyleSheets=[m]}disconnectedCallback(){}set position(e){this.$shadow.innerHTML=this.render(e)}set backdrop(e){const t=this.$shadow.querySelector("visbug-boxmodel");t&&t.remove(),e.element&&this.$shadow.appendChild(e.element)}set update({width:e,height:t,top:n,left:o}){const{winHeight:i,winWidth:s}=S(),a=this.$shadow.querySelector("svg"),[r,l,h,d,c]=a.children;this.$shadow.host.style.display="block",a.setAttribute("viewBox",`0 0 ${s} ${i}`),r.setAttribute("width",e+"px"),r.setAttribute("x",o),r.setAttribute("y",n),l.setAttribute("x1",o),l.setAttribute("x2",o),h.setAttribute("x1",o+e),h.setAttribute("x2",o+e),d.setAttribute("y1",n+window.scrollY),d.setAttribute("y2",n+window.scrollY),d.setAttribute("x2",s),c.setAttribute("y1",n+window.scrollY+t),c.setAttribute("y2",n+window.scrollY+t),c.setAttribute("x2",s)}render({x:e,y:t,width:n,height:o,top:i,left:s}){const{winWidth:a,winHeight:r}=S(),{offsetHeight:l}=document.body,h=t+window.scrollY;return`\n      <svg\n        width="100%"\n        viewBox="0 0 ${a} ${r}"\n        version="1.1" xmlns="http://www.w3.org/2000/svg"\n      >\n        <rect\n          fill="none"\n          width="${n}" height="${o}"\n          x="${e}" y="${t}"\n          style="display:none;"\n        ></rect>\n        <line x1="${e}" y1="0" x2="${e}" y2="${l}"></line>\n        <line x1="${e+n}" y1="0" x2="${e+n}" y2="${l}"></line>\n        <line x1="0" y1="${h}" x2="${a}" y2="${h}"></line>\n        <line x1="0" y1="${h+o}" x2="${a}" y2="${h+o}"></line>\n      </svg>\n    `}}customElements.define("visbug-gridlines",he);class de extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"}),this.drawable={}}connectedCallback(){this.$shadow.adoptedStyleSheets=[u]}disconnectedCallback(){}set position(e){this.$shadow.innerHTML=this.render(e),this.createMeasurements(e)}render({bounds:e,sides:t}){return this.drawable={height:e.height,width:e.width+window.scrollX,top:e.top+window.scrollY,left:e.left,rotation:"rotate(-45)"},this.drawable.bg="hsla(330, 100%, 71%, 15%)",this.drawable.stripe="hsla(330, 100%, 71%, 80%)",this.styles({sides:t}),`\n      <div mask>\n        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">\n          <defs>\n            <pattern id="pinstripe" patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="${this.drawable.rotation}" class="pattern">\n              <line x1="0" y="0" x2="0" y2="10" stroke="${this.drawable.stripe}" stroke-width="1"></line>\n            </pattern>\n          </defs>\n          <rect width="100%" height="100%" fill="url(#pinstripe)"></rect>\n        </svg>\n      </div>\n    `}styles({sides:e}){this.style.setProperty("--width",this.drawable.width+"px"),this.style.setProperty("--height",this.drawable.height+"px"),this.style.setProperty("--top",this.drawable.top+"px"),this.style.setProperty("--left",this.drawable.left+"px"),this.style.setProperty("--bg",""+this.drawable.bg),this.style.setProperty("--target-left",e.left+"px"),this.style.setProperty("--target-top",e.top+"px"),this.style.setProperty("--target-right",e.right+"px"),this.style.setProperty("--target-bottom",e.bottom+"px"),this.style.setProperty("--offset-right",this.drawable.width-e.right+"px"),this.style.setProperty("--offset-bottom",this.drawable.height-e.bottom+"px")}createMeasurements({bounds:e,sides:t}){t.top&&this.createMeasurement({x:e.left+e.width/2-3,y:e.top,d:t.top,q:"top",v:!0,color:"pink"}),t.bottom&&this.createMeasurement({x:e.left+e.width/2-3,y:e.bottom-t.bottom,d:t.bottom,q:"bottom",v:!0,color:"pink"}),t.right&&this.createMeasurement({x:e.left,y:e.top+e.height/2-3,d:t.left,q:"right",v:!1,color:"pink"}),t.left&&this.createMeasurement({x:e.right-t.right,y:e.top+e.height/2-3,d:t.right,q:"right",v:!1,color:"pink"})}createMeasurement(e,t=0){const n=document.createElement("visbug-distance");n.position={line_model:e,node_label_id:t},this.$shadow.appendChild(n)}}customElements.define("visbug-boxmodel",de);class ce extends HTMLElement{constructor(){super(),this.$shadow=this.attachShadow({mode:"closed"}),this.applyScheme=_(this.$shadow,g,b,v)}connectedCallback(){this.applyScheme(document.querySelector("vis-bug").getAttribute("color-scheme"))}disconnectedCallback(){}set meta(e){this.$shadow.innerHTML=this.render(e)}render({el:e,width:t,height:n,localModifications:o,notLocalModifications:i}){return`\n      <figure>\n        <header>\n          <h5>\n            <a node>${e.nodeName.toLowerCase()}</a>\n            <a>${e.id&&"#"+e.id}</a>\n            ${P(e).split(".").filter(e=>""!=e).reduce((e,t)=>`\n                ${e}\n                <a>.${t}</a>\n              `,"")}\n          </h5>\n          <small>\n            <span>${Math.round(t)}</span><span brand>px</span>\n            <span divider>×</span>\n            <span>${Math.round(n)}</span><span brand>px</span>\n          </small>\n        </header>\n\n        <code>${i.reduce((e,t)=>`\n          ${e}\n          <span><span prop>${t.prop}</span>:</span>\n          <span value>${t.value}</span>\n        `,"")}\n        </code>\n        ${o.length?`\n          <details>\n            <summary>Local Modifications / Inline Styles</summary>\n            <code>${o.reduce((e,t)=>`\n              ${e}\n              <span><span prop>${t.prop}</span>:</span>\n              <span value>${t.value}</span>\n            `,"")}\n            </code>\n          </details>\n        `:""}\n      </figure>\n    `}}customElements.define("visbug-metatip",ce);const pe={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function me(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function ue(e,t,n,o,i,s){const a=Math.max(t-1,0),r=Math.max(n-1,0),l=Math.min(t+1,o-1),h=Math.min(n+1,i-1),d=4*(n*o+t);let c,p,m,u,g=t===a||t===l||n===r||n===h?1:0,b=0,v=0;for(let i=a;i<=l;i++)for(let s=r;s<=h;s++){if(i===t&&s===n)continue;const a=be(e,e,d,4*(s*o+i),!0);if(0===a){if(g++,g>2)return!1}else a<b?(b=a,c=i,p=s):a>v&&(v=a,m=i,u=s)}return 0!==b&&0!==v&&(ge(e,c,p,o,i)&&ge(s,c,p,o,i)||ge(e,m,u,o,i)&&ge(s,m,u,o,i))}function ge(e,t,n,o,i){const s=Math.max(t-1,0),a=Math.max(n-1,0),r=Math.min(t+1,o-1),l=Math.min(n+1,i-1),h=4*(n*o+t);let d=t===s||t===r||n===a||n===l?1:0;for(let i=s;i<=r;i++)for(let s=a;s<=l;s++){if(i===t&&s===n)continue;const a=4*(s*o+i);if(e[h]===e[a]&&e[h+1]===e[a+1]&&e[h+2]===e[a+2]&&e[h+3]===e[a+3]&&d++,d>2)return!0}return!1}function be(e,t,n,o,i){let s=e[n+0],a=e[n+1],r=e[n+2],l=e[n+3],h=t[o+0],d=t[o+1],c=t[o+2],p=t[o+3];if(l===p&&s===h&&a===d&&r===c)return 0;l<255&&(l/=255,s=we(s,l),a=we(a,l),r=we(r,l)),p<255&&(p/=255,h=we(h,p),d=we(d,p),c=we(c,p));const m=ve(s,a,r),u=ve(h,d,c),g=m-u;if(i)return g;const b=fe(s,a,r)-fe(h,d,c),v=ye(s,a,r)-ye(h,d,c),f=.5053*g*g+.299*b*b+.1957*v*v;return m>u?-f:f}function ve(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function fe(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function ye(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function we(e,t){return 255+(e-255)*t}function xe(e,t,n,o,i){e[t+0]=n,e[t+1]=o,e[t+2]=i,e[t+3]=255}function ke(e,t,n,o){const i=we(ve(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);xe(o,t,i,i,i)}class $e extends HTMLElement{constructor(){super(),this.mode="",this.$shadow=this.attachShadow({mode:"closed"}),this.closeOverlay=this.closeOverlay.bind(this),this.showMagnifier=this.showMagnifier.bind(this),this.handleHtmlToImg=this.handleHtmlToImg.bind(this),this.handleMatch=this.handleMatch.bind(this),this.handleDelete=this.handleDelete.bind(this)}connectedCallback(){this.$shadow.innerHTML=this.render(),this.$shadow.adoptedStyleSheets=[f],w(".close-btn",this.$shadow)[0].addEventListener("click",this.closeOverlay),w(".visbug-diffCanvas",this.$shadow)[0].addEventListener("click",this.showMagnifier),w("#ui-upload-paste",this.$shadow)[0].addEventListener("click",()=>this.handlePaste("#uiImage",!0,".match-img-origin")),w("#ui-upload-file",this.$shadow)[0].addEventListener("click",()=>this.handleUploadFile("#uiImage",!0,".match-img-origin")),w("#page-upload-paste",this.$shadow)[0].addEventListener("click",()=>this.handlePaste("#pageImage",!1,".match-img-page")),w("#page-upload-file",this.$shadow)[0].addEventListener("click",()=>this.handleUploadFile("#pageImage",!1,".match-img-page")),w("#page-upload-select",this.$shadow)[0].addEventListener("click",this.handleHtmlToImg),w("#match-button",this.$shadow)[0].addEventListener("click",this.handleMatch),w(".delete-svg",this.$shadow).on("click",this.handleDelete)}disconnectedCallback(){w(".close-btn",this.$shadow)[0].removeEventListener("click",this.closeOverlay),w(".visbug-diffCanvas",this.$shadow)[0].removeEventListener("click",this.showMagnifier),w("#ui-upload-paste",this.$shadow)[0].removeEventListener("click",()=>this.handlePaste("#uiImage",!0,".match-img-origin")),w("#ui-upload-file",this.$shadow)[0].removeEventListener("click",()=>this.handleUploadFile("#uiImage",!0,".match-img-origin")),w("#page-upload-paste",this.$shadow)[0].removeEventListener("click",()=>this.handlePaste("#pageImage",!1,".match-img-page")),w("#page-upload-file",this.$shadow)[0].removeEventListener("click",()=>this.handleUploadFile("#pageImage",!1,".match-img-page")),w("#page-upload-select",this.$shadow)[0].removeEventListener("click",this.handleHtmlToImg),w("#match-button",this.$shadow)[0].removeEventListener("click",this.handleMatch),w(".delete-svg",this.$shadow).off("click",this.handleDelete)}closeOverlay(){w(".visbug-magnifier",this.$shadow)[0].style.display="none"}showMagnifier(e){const t=e.target;if(k(t))return;const n=t.toDataURL("image/png");w(".visbug-magnifier",this.$shadow)[0].style.display="block";const o=w("#magnifier-img",this.$shadow)[0];o.src=n;"width"===this.adjustMode(o)?(o.style.width="80%",o.style.height="auto"):(o.style.height="80%",o.style.width="auto")}adjustImage(){const e=w("#match-img-origin",this.$shadow)[0],t=w("#uiImage",this.$shadow)[0],n=w("#pageImage",this.$shadow)[0];w(t).on("load",()=>{const o=this.adjustMode(t,e.clientWidth,e.clientHeight);"width"===o?(console.log("图片优先取宽度适应"),t.style.width="100%",t.style.height="auto",n.style.width="100%",n.style.height="auto"):(console.log("图片优先取高度适应"),t.style.width="auto",t.style.height="100%",n.style.width="auto",n.style.height="100%"),this.mode=o})}adjustMode(e,t=window.innerWidth,n=window.innerHeight){const o=t/n;return e.width/e.height>o?"width":"height"}pixelMatchMethod(e,t,n,o=.2){let i=Math.max(t.width,e.width),s=Math.max(t.height,e.height);const a=document.createElement("canvas");a.width=i,a.height=s;const r=a.getContext("2d",{willReadFrequently:!0});r.drawImage(e,0,0,e.width,e.height);const l=r.getImageData(0,0,i,s);r.clearRect(0,0,i,s),r.drawImage(t,0,0,t.width,t.height);const h=r.getImageData(0,0,i,s),d=w("#diffCanvas",this.$shadow)[0];d.width=i,d.height=s;const c=d.getContext("2d"),p=new Uint8ClampedArray(i*s*4),m=function(e,t,n,o,i,s){if(!me(e)||!me(t)||n&&!me(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==o*i*4)throw new Error("Image data size does not match width/height.");s=Object.assign({},pe,s);const a=o*i,r=new Uint32Array(e.buffer,e.byteOffset,a),l=new Uint32Array(t.buffer,t.byteOffset,a);let h=!0;for(let e=0;e<a;e++)if(r[e]!==l[e]){h=!1;break}if(h){if(n&&!s.diffMask)for(let t=0;t<a;t++)ke(e,4*t,s.alpha,n);return 0}const d=35215*s.threshold*s.threshold;let c=0;for(let a=0;a<i;a++)for(let r=0;r<o;r++){const l=4*(a*o+r),h=be(e,t,l,l);Math.abs(h)>d?s.includeAA||!ue(e,r,a,o,i,t)&&!ue(t,r,a,o,i,e)?(n&&xe(n,l,...h<0&&s.diffColorAlt||s.diffColor),c++):n&&!s.diffMask&&xe(n,l,...s.aaColor):n&&(s.diffMask||ke(e,l,s.alpha,n))}return c}(l.data,h.data,p,i,s,{threshold:o});c.putImageData(new ImageData(p,i,s),0,0),"width"===n?(d.style.width="100%",d.style.height="auto"):(d.style.height="100%",d.style.width="auto");const u=1-m/(i*s);w("#mismatch",this.$shadow)[0].innerHTML="Mismatched pixels: "+m;w("#similarity-num",this.$shadow)[0].innerHTML="Similarity ratio: "+(100*u).toFixed(2)}listenRatio(e,t,n){const o=w("#myRange",this.$shadow)[0],i=w("#sliderValue",this.$shadow)[0];i.innerHTML=o.value,o.oninput=()=>{i.innerHTML=o.value,this.pixelMatchMethod(e,t,n,o.value)}}set htmlToImg(e){this.htmlToImgMethod=e||Promise.resolve()}handleHtmlToImg(){const e=w("#page-upload-select",this.$shadow)[0];e.classList.add("loading"),this.htmlToImgMethod().then(e=>{if(e){const t=w("#pageImage",this.$shadow)[0];if(t.src=e,w(".match-img-page",this.$shadow)[0].classList.add("hover-mask"),this.mode)return void console.log("已经上传ui图");const n=w("#match-img-origin",this.$shadow)[0];w(t).on("load",()=>{"width"===this.adjustMode(t,n.clientWidth,n.clientHeight)?(console.log("dom节点优先取宽度适应"),t.style.width="100%",t.style.height="auto"):(console.log("dom节点优先取高度适应"),t.style.width="auto",t.style.height="100%")})}}).catch(()=>{alert("截图获取失败，请稍后重试或联系管理员")}).finally(()=>{e.classList.remove("loading")})}async handlePaste(e,t=!0,n){try{const o=w(e,this.$shadow)[0],i=await navigator.clipboard.read();for(const e of i)if(e.types.includes("image/png")||e.types.includes("image/jpeg")){const i=await e.getType("image/png"),s=URL.createObjectURL(i);o.src=s,t&&this.adjustImage(),n&&w(n,this.$shadow)[0].classList.add("hover-mask")}}catch(e){alert("Failed to read clipboard image:",e)}}handleUploadFile(e,t=!0,n){const o=w("#fileInput",this.$shadow)[0];o.click(),o.onchange=()=>{const i=o.files[0];if(!i)return;if(!i.type.includes("image"))return void alert("请选择图片文件");const s=new FileReader;s.onload=o=>{const i=new Image;i.src=o.target.result,i.onload=()=>{w(e,this.$shadow)[0].src=i.src,t&&this.adjustImage(),n&&w(n,this.$shadow)[0].classList.add("hover-mask")}},s.readAsDataURL(i)}}handleMatch(){const e=w("#uiImage",this.$shadow)[0],t=w("#pageImage",this.$shadow)[0];this.pixelMatchMethod(e,t,this.mode),this.listenRatio(e,t,this.mode)}handleDelete(e){let t,n;switch(e.target.parentNode.parentNode.id){case"ui-delete":t=w(".match-img-origin",this.$shadow)[0],n=w("img",t)[0];break;case"page-delete":t=w(".match-img-page",this.$shadow)[0],n=w("img",t)[0]}n&&(n.src=""),t&&t.classList.remove("hover-mask")}render(){return`\n     <div class="pixel-match-page">\n     <input type="file" id="fileInput" style="display:none;">\n     <div class="pixel-match">\n\t\t\t<div class="pixel-match-block">\n\t\t\t\t<div class="match-img-origin" id="match-img-origin">\n\t\t\t\t<div class="ui-upload-operate">\n\t\t\t\t <button id="ui-upload-paste">粘贴</button>\n\t\t\t\t  <button id="ui-upload-file">上传</button>\n        </div>\n\t\t\t\t    <div class="delete-svg" id="ui-delete">${e}</div>\n\t\t\t\t\t  <img id="uiImage" src="" alt="UI Image">\n\t\t\t\t</div>\n\t\t\t\t<div class="match-img-page">\n\t\t\t\t <div class="ui-upload-operate">\n\t\t\t\t <button id="page-upload-paste">粘贴</button>\n\t\t\t\t  <button id="page-upload-file">上传</button>\n\t\t\t\t  <button id="page-upload-select">上传选中节点</button>\n        </div>\n\t\t\t     \t<div class="delete-svg" id="page-delete">${e}</div>\n\t\t\t\t\t  <img id="pageImage" src="" alt="Page Image">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="pixel-match-result">\n\t\t\t\t<div class="match-img-origin">\n\t\t\t\t\t<canvas class="visbug-diffCanvas" id="diffCanvas" />\n\t\t\t\t</div>\n\t\t\t\t<div class="match-operator">\n\t\t\t\t  <div class="operator-line">\n\t\t\t\t  <button id="match-button">开始比对</button>\n          </div>\n\t\t\t\t\t<div class="operator-line" id="mismatch">Mismatched pixels: -</div>\n\t\t\t\t\t<div class="operator-line" id="similarity-num">Similarity ratio: -</div>\n\t\t\t\t\t<div class="operator-line">\n\t\t\t\t\t\t<span>Threshold</span>\n\t\t\t\t\t\t<div class="slider-container">\n\t\t\t\t\t\t    <input type="range" min="0" max="1" value="0.2" step="0.01" class="slider" id="myRange">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="slider-value" id="sliderValue">0.2</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="visbug-magnifier">\n\t\t\t<img id="magnifier-img" src="" alt="">\n\t\t\t<div class="close-btn">\n\t\t\t\t<div class="close-icon"></div>\n\t\t\t</div>\n\t\t</div>\n</div>\n    `}}customElements.define("visbug-compare",$e);class Se extends HTMLElement{constructor(){super(),this.toolbar_model=t,this.$shadow=this.attachShadow({mode:"closed"}),this.applyScheme=_(this.$shadow,r,i,a)}static get observedAttributes(){return["color-scheme"]}connectedCallback(){this.setup(),this.selectorEngine=N(this),this.toolSelected(w('[data-tool="switch"]',this.$shadow)[0])}disconnectedCallback(){this.deactivate_feature(),this.clearUp(),this.selectorEngine.disconnect()}attributeChangedCallback(e,t,n){"color-scheme"===e&&this.applyScheme(n)}clickEvent=e=>{const t=e.target.closest("[data-tool]");t&&(e.stopPropagation(),this.toolSelected(t))};toolSelected(e){"string"==typeof e&&(e=w(`[data-tool="${e}"]`,this.$shadow)[0]),e=w(e)[0],this.active_tool&&(this.active_tool.attr("data-active",null),this.deactivate_feature()),e.attr("data-active",!0),this.active_tool=e,this[e.dataset.tool]()}setup(){this.$shadow.innerHTML=this.render(),this.hasAttribute("color-scheme")||this.setAttribute("color-scheme","auto");!function({el:e,surface:t=e,cursor:n="move",clickEvent:o}){const i={target:e,surface:t,mouse:{down:!1,x:0,y:0},element:{x:0,y:0},travelDistance:0},s=t=>{o&&o(t),t.target===i.surface&&(t.preventDefault(),e.style.willChange="top,left",i.element.x=parseInt(A(e,"left")),i.element.y=parseInt(A(e,"top")),i.mouse.x=t.clientX,i.mouse.y=t.clientY,i.mouse.down=!0,i.travelDistance=0)},a=t=>{i.mouse.down&&(t.preventDefault(),t.stopPropagation(),e.style.left=i.element.x+t.clientX-i.mouse.x+"px",e.style.top=i.element.y+t.clientY-i.mouse.y+"px",i.travelDistance+=1)},r=t=>{t.preventDefault(),t.stopPropagation(),i.mouse.down=!1,e.style.willChange=null,i.element.x=parseInt(e.style.left)||0,i.element.y=parseInt(e.style.top)||0,i.travelDistance=0};e.style.transition="none",t.style.cursor=n,t.addEventListener("mousedown",s,!0),t.addEventListener("mouseup",r,!0),document.addEventListener("mousemove",a,!0),e.teardown=()=>{e.style.transition=null,t.style.cursor=null,t.removeEventListener("mousedown",s,!0),t.removeEventListener("mouseup",r,!0),document.removeEventListener("mousemove",a,!0)}}({el:this,surface:this.$shadow.querySelector("ol[vis-bug-ol]"),cursor:"grab",clickEvent:this.clickEvent})}clearUp(){Array.from(document.body.children).filter(e=>e.nodeName.includes("VISBUG")||e.nodeName.includes("VIS-BUG")).forEach(e=>e.remove()),this.teardown()}guides(){this.deactivate_feature=F(this.selectorEngine,!1)}inspector(){var e;this.deactivate_feature=(e=this.selectorEngine,G.restoring=!1,e.select,w("body").on("mousemove",J),e.onSelectedUpdate(Z),()=>{w("body").off("mousemove",J),e.removeSelectedCallback(Z),ee()})}padding(){this.deactivate_feature=F(this.selectorEngine,!0)}compare(){this.deactivate_feature=function(e){if(te.compare)te.compare.style.display="block",te.visible=!0;else{const t=document.createElement("visbug-compare");document.body.appendChild(t),t.htmlToImg=()=>oe(te.selected),te.compare=t,te.visible=!0,e.onSelectedUpdate(e=>te.selected=e)}return()=>{ne()}}(this.selectorEngine)}switch(){const e=this.$shadow.querySelector("ol[vis-bug-ol]");if(this.switchFlag){this.switchFlag=!1,e.classList.remove("vis-bug-toggle");const{listen:t}=this.selectorEngine;t&&t()}else{this.switchFlag=!0,e.classList.add("vis-bug-toggle");const{disconnect:t}=this.selectorEngine;t&&t()}this.deactivate_feature=()=>{}}demoTip({key:e,tool:t,label:n,description:o}){return o?`\n      <aside ${t}>\n        <div>${n} - ${o}</div>\n      </aside>\n    `:""}get activeTool(){return this.active_tool.dataset.tool}render(){return`\n      <ol vis-bug-ol>\n        ${Object.entries(this.toolbar_model).reduce((e,[t,n])=>`\n          ${e}\n          <li aria-label="${n.label} Tool" aria-description="${n.description}" aria-hotkey="${t}" data-tool="${n.tool}" data-active="${"b"==t}">\n            ${n.icon}\n            ${this.demoTip({key:t,...n})}\n          </li>\n        `,"")}\n      </ol>\n    `}}customElements.define("vis-bug",Se);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXMiOltdLCJzb3VyY2VzQ29udGVudCI6W10sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIifQ==
